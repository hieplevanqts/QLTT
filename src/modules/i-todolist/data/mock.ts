import type { Task, Comment } from '../types';

// Helper to get date relative to now
const getRelativeDate = (hoursFromNow: number) => {
  const date = new Date();
  date.setHours(date.getHours() + hoursFromNow);
  return date.toISOString();
};

export const MOCK_TASKS: Task[] = [
  {
    id: '1',
    title: 'Hoàn thành báo cáo tháng 1/2026',
    description: 'Tổng hợp dữ liệu và viết báo cáo tổng kết công việc tháng đầu năm',
    status: 'in-progress',
    priority: 'urgent',
    dueDate: getRelativeDate(3), // Due in 3 hours - will trigger notification
    tags: ['báo cáo', 'quan trọng'],
    topicId: 'topic-1',
    notes: 'Cần phối hợp với phòng kế hoạch để lấy số liệu',
    attachments: [],
    createdAt: '2026-01-15T08:00:00Z',
    updatedAt: '2026-01-21T10:30:00Z',
    estimatedHours: 8,
    actualHours: 5,
  },
  {
    id: '2',
    title: 'Cập nhật tài liệu API v2.0',
    description: 'Chỉnh sửa và bổ sung tài liệu API cho phiên bản mới',
    status: 'in-progress',
    priority: 'high',
    dueDate: '2026-01-28T17:00:00Z',
    tags: ['tài liệu', 'api', 'technical'],
    topicId: 'topic-3',
    notes: 'Tham khảo tài liệu cũ và ghi chú của team dev',
    attachments: [],
    createdAt: '2026-01-18T09:00:00Z',
    updatedAt: '2026-01-21T11:00:00Z',
    estimatedHours: 6,
    actualHours: 3,
  },
  {
    id: '3',
    title: 'Review code PR #234',
    description: 'Kiểm tra và review code cho pull request module thanh toán',
    status: 'not-started',
    priority: 'high',
    dueDate: getRelativeDate(12), // Due in 12 hours - will trigger notification
    tags: ['code-review', 'urgent'],
    topicId: 'topic-2',
    notes: 'Chú ý kiểm tra logic xử lý exception',
    attachments: [],
    createdAt: '2026-01-21T08:30:00Z',
    updatedAt: '2026-01-21T08:30:00Z',
    estimatedHours: 2,
  },
  {
    id: '4',
    title: 'Họp team weekly',
    description: 'Cuộc họp định kỳ hàng tuần với team để review công việc',
    status: 'completed',
    priority: 'medium',
    dueDate: '2026-01-20T14:00:00Z',
    tags: ['meeting', 'weekly'],
    topicId: 'topic-1',
    notes: 'Đã thảo luận kế hoạch sprint mới',
    attachments: [],
    createdAt: '2026-01-13T10:00:00Z',
    updatedAt: '2026-01-20T15:30:00Z',
    completedAt: '2026-01-20T15:30:00Z',
    estimatedHours: 1,
    actualHours: 1.5,
  },
  {
    id: '5',
    title: 'Xử lý email khách hàng',
    description: 'Trả lời các email hỗ trợ từ khách hàng về vấn đề đăng nhập',
    status: 'completed',
    priority: 'medium',
    dueDate: '2026-01-19T17:00:00Z',
    tags: ['support', 'customer'],
    topicId: 'topic-2',
    notes: 'Đã hướng dẫn reset password và xác nhận email',
    attachments: [],
    createdAt: '2026-01-19T09:00:00Z',
    updatedAt: '2026-01-19T16:00:00Z',
    completedAt: '2026-01-19T16:00:00Z',
    estimatedHours: 2,
    actualHours: 1.5,
  },
  {
    id: '6',
    title: 'Chuẩn bị slides thuyết trình',
    description: 'Tạo bộ slides cho buổi training nhân viên mới',
    status: 'completed',
    priority: 'low',
    dueDate: '2026-01-18T17:00:00Z',
    tags: ['training', 'presentation'],
    topicId: 'topic-1',
    notes: 'Slides đã được duyệt bởi trưởng phòng',
    attachments: [],
    createdAt: '2026-01-10T10:00:00Z',
    updatedAt: '2026-01-18T14:00:00Z',
    completedAt: '2026-01-18T14:00:00Z',
    estimatedHours: 4,
    actualHours: 5,
  },
  {
    id: '7',
    title: 'Testing module thanh toán mới',
    description: 'Kiểm tra toàn bộ flow thanh toán với các phương thức khác nhau',
    status: 'not-started',
    priority: 'high',
    dueDate: '2026-01-30T17:00:00Z',
    tags: ['testing', 'payment', 'qa'],
    topicId: 'topic-3',
    notes: 'Cần test với cả môi trường sandbox và production',
    attachments: [],
    createdAt: '2026-01-20T14:00:00Z',
    updatedAt: '2026-01-20T14:00:00Z',
    estimatedHours: 8,
  },
  {
    id: '8',
    title: 'Nghiên cứu công nghệ mới',
    description: 'Tìm hiểu về React Server Components và Next.js 15',
    status: 'paused',
    priority: 'low',
    dueDate: '2026-02-15T17:00:00Z',
    tags: ['learning', 'research', 'react'],
    topicId: 'topic-2',
    notes: 'Tạm dừng để ưu tiên các công việc khác',
    attachments: [],
    createdAt: '2026-01-05T09:00:00Z',
    updatedAt: '2026-01-20T10:00:00Z',
    estimatedHours: 10,
    actualHours: 3,
  },
];

export const MOCK_COMMENTS: Comment[] = [
  {
    id: 'c1',
    taskId: '1',
    content: 'Đã hoàn thành phần thu thập dữ liệu, đang tiến hành phân tích',
    createdAt: '2026-01-21T10:30:00Z',
    author: 'Nguyễn Văn A',
  },
  {
    id: 'c2',
    taskId: '1',
    content: 'Cần bổ sung biểu đồ so sánh với tháng trước',
    createdAt: '2026-01-21T14:00:00Z',
    author: 'Trần Thị B',
  },
  {
    id: 'c3',
    taskId: '2',
    content: 'Đã update các endpoint mới trong tài liệu',
    createdAt: '2026-01-21T11:00:00Z',
    author: 'Nguyễn Văn A',
  },
];
